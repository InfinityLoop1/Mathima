
function displayHomework() {
    homework = JSON.parse(localStorage.getItem('homework')) || [];
    const dropdown = document.getElementById('sort-homework-dropdown');
    const selectedOption = dropdown.options[dropdown.selectedIndex].value;

    if (selectedOption === 'dueDate') {
        homework.sort((a, b) => new Date(a.dueDate) - new Date(b.dueDate));
    } else if (selectedOption === 'class') {
        homework.sort((a, b) => a.class.localeCompare(b.class));
    } else if (selectedOption === 'name') {
        homework.sort((a, b) => a.name.localeCompare(b.name));
    }
    localStorage.setItem('homework', JSON.stringify(homework));
    const homeworkList = document.getElementById('homework-container');
    homeworkList.innerHTML = '';
    if (homework.length === 0) {
        homeworkList.innerHTML = '<h1 style="text-align: center;">No homework assigned.</h1>';
    } else {
        for (let i = 0; i < homework.length; i++) {
            const homeworkItem = homework[i];
            const listItem = document.createElement('div');
            listItem.innerHTML = `<button>&#10003;</button> <strong class="hw-name">${homeworkItem.name}</strong> <p class="hw-desc">${homeworkItem.description}</p> <p class="hw-dueDate">${formatDateTime(homeworkItem.dueDate)}</p> <p class="hw-subject">${homeworkItem.class}</p>`;
            homeworkList.appendChild(listItem);
        }
    }
}

function removeHomework(index) {
    homework.splice(index, 1);
    localStorage.setItem('homework', JSON.stringify(homework));
    displayHomework();
}

//function generated by copilot
document.getElementById('homework-container').addEventListener('click', (event) => {
    if (event.target.tagName === 'BUTTON') {
        const index = Array.from(event.target.parentNode.parentNode.children).indexOf(event.target.parentNode);
        removeHomework(index);
    }
});

displayHomework();

document.getElementById('sort-homework-dropdown').addEventListener('change', displayHomework);